webpackJsonp([0],{0:function(e,t,n){e.exports=n(1)},1:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(2);a(r);$.support.cors=!0,$(function(){(function(){var e=$(".col-md-6").width(),t=(function(){function n(t){var n=(c-1)*e;$("#screenBody").is(":animated")||("right"===t?r===c?(r=1,$("#scrollMoives .side-index").html(r),$("#screenBody").animate({left:0},500)):(r++,$("#scrollMoives .side-index").html(r),$("#screenBody").animate({left:"-="+e},500)):1===r?(r=c,$("#scrollMoives .side-index").html(r),$("#screenBody").animate({left:"-="+n},500)):(r--,$("#scrollMoives .side-index").html(r),$("#screenBody").animate({left:"+="+e},500)))}var a=($("#scrollMoives .panel"),$("#headerNow span")),r=1,i=$("#scrollMoives .slide-prev"),o=$("#scrollMoives .slide-next"),l=$("#scrollMoives .thumbnail"),s=l.length,c=Math.ceil(s/4);$("#scrollMoives .side-max").html(c),$("#screenBody").width(e*c);var u=l.outerWidth(!0)-l.outerWidth(),f=(e-4*u)/4;l.width(f),a.on("click",function(){var n=$(this).text(),i="/?galleryName="+encodeURIComponent(n);t(i,"GET",function(t){var i=t.data||[],o=i.movies,u=i.movies.length;if($("#headerNow a").attr("href","/movie/results?cat="+i._id+"&p=0").text(i.name),"即将上映"===n?a.text("正在上映"):a.text("即将上映"),u<l.length)$("#scrollMoives .thumbnail:gt("+(u-1)+")").remove();else if(u>l.length){for(var d=l.length;u>d;d++)$("#screenBody").append('<div class="thumbnail"><a href="" target="_blank"><img src="" alt="" /></a><div class="caption"><h5></h5><p><a class="btn btn-primary" href="" role="button">观看预告片</a></p></div></div>');$("#screenBody .thumbnail:gt("+(l.length-1)+")").width(f)}l=$("#scrollMoives .thumbnail"),s=l.length,c=Math.ceil(s/4),$("#scrollMoives .side-max").html(c),$("#screenBody").width(e*c);for(var h=0;h<l.length;h++)if(o[h]){$(l[h]).find("a").attr("href","/movie/"+o[h]._id),$(l[h]).find("h5").html(o[h].title);var p=$(l[h]).find("img");o[h].poster&&(o[h].poster.indexOf("http:")>-1?p.attr("src",o[h].poster).attr("alt",o[h].poster):p.attr("src","/upload/movie/"+o[h].poster).attr("alt",o[h].poster))}r>c&&(r=c,$("#scrollMoives .side-index").html(r),$("#screenBody").animate({left:-e*(r-1)},0))})}),o.on("click",function(){n("right")}),i.on("click",function(){n("left")});var d=setInterval(function(){n("right")},5e3);$("#scrollMoives").on("mouseover",function(){clearInterval(d)}).on("mouseout",function(){d=setInterval(function(){n("right")},5e3)})}(),function(){var t=1,n=$("#galleryFrames .slide-prev"),a=$("#galleryFrames .slide-next"),r=$("#galleryFrames li").length,i=$("#galleryFrames ul"),o=$("#galleryFrames .slide-item");$("#galleryFrames .side-max").html(r-2),i.width(e*r),i.css("left",-e),o.width(e),a.on("click",function(){s("right")}),n.on("click",function(){s("left")});var l=setInterval(function(){s("right")},5e3);$("#galleryFrames").on("mouseover",function(){clearTimeout(l)}).on("mouseout",function(){l=setInterval(function(){s("right")},5e3)});var s=function(n){i.is(":animated")||("right"===n?(t++,$("#galleryFrames .side-index").html(t),i.animate({left:"-="+e},500),t===r-1&&(t=1,$("#galleryFrames .side-index").html(t),i.animate({left:-e+"px"},0))):(t--,$("#galleryFrames .side-index").html(t),i.animate({left:"+="+e},500),0===t&&(t=r-2,$("#galleryFrames .side-index").html(t),i.animate({left:-(e*(r-2))+"px"},0))))}}(),function(){var e=$("#citySearch"),n=$("#citiesList"),a=$("#citySug"),r=$("#citySug .city-suggestion-list"),i=$("#citySug .auto-tip"),o=$("#citySug input");n.outerWidth(e.width()+a.width()),e.children("span").on("click",function(){"none"===n.css("display")?n.css("display","block"):n.css("display","none")}),$(".cities-list-hd").on("click","li",function(){var e=$(this).attr("index");$(this).addClass("on").siblings().removeClass("on"),n.find(".cities-list-item").eq(e-1).addClass("active").siblings().removeClass("active")}),$("#citiesList .cities-list-item").on("click","a",function(){e.children("span").html($(this).html()),n.css("display","none"),o.val("")}),o.on("focus",function(){l(),n.css("display","none")}),o.keyup(function(e){l()}),r.on("mousedown","a",function(){o.val($(this).html()),r.css("display","none")}),o.on("blur",function(){r.css("display","none")});var l=function(){var n=e.children("span").text(),a=o.val(),l="/?cityName="+encodeURIComponent(n)+"&&search="+encodeURIComponent(a);t(l,"GET",function(e){var t=e||[];i.html("");for(var n=0;n<t.length;n++)i.append('<li><a href="javascript:;">'+t[n]+"</a></li>");r.css("display","block")})}}(),function(e,t,n){$.ajax({url:e,cache:!0,type:t,crossDomain:!0}).done(n)})})()})},2:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(3),c=a(s),u=n(160),f=a(u),d=n(161),h=a(d),p=n(162),m=a(p),v=function(e){function t(){r(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={filmTitle:["热门","最新","经典","豆瓣高分","冷门佳片","华语","欧美","韩国"],selected:"热门",loading:!0,data:[],currentData:{}},e}return o(t,e),l(t,[{key:"render",value:function(){var e=this,t=[];if(!this.state.loading){var n=this.state.currentData;n&&n.movies&&n.movies.forEach(function(e,n){t.push(c["default"].createElement(h["default"],{data:e,key:n}))})}return c["default"].createElement("div",{className:"screen"},c["default"].createElement("div",{className:"class-top"},c["default"].createElement("span",{className:"active"},"选电影"),c["default"].createElement("i",null," / "),c["default"].createElement("span",null,"选电视剧"),c["default"].createElement("hr",null),c["default"].createElement(m["default"],{filmTitle:this.state.filmTitle,selected:this.state.selected,onDataChange:function(t){return e.getData(t)}}),c["default"].createElement("hr",null)),c["default"].createElement("div",{className:"screen"},c["default"].createElement("div",{className:"panel panel-default"},c["default"].createElement("div",{id:"classNameBody",className:"panel-body screen-body"},t))))}},{key:"componentDidMount",value:function(){var e=this.state.selected;this.getData(e)}},{key:"getData",value:function(e){var t=this,n=!0,a=!1,r=void 0;try{for(var i,o=this.state.data[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;if(l.name.includes(e))return void this.setState({loading:!1,selected:e,currentData:l})}}catch(s){a=!0,r=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw r}}var c=this.props.source+encodeURIComponent(e+"电影");$.get(c,function(n){t.setState({loading:!1,selected:e,currentData:n.data}),t.state.data.push(n.data)})}}]),t}(c["default"].Component);f["default"].render(c["default"].createElement(v,{source:"/?fliterName="}),document.getElementById("fliterMovies")),e.exports=v},161:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(3),c=a(s),u=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"col-md-3 col-xs-4"},c["default"].createElement("div",{className:"thumbnail"},c["default"].createElement("a",{href:/movie/+this.props.data._id,target:"_blank"},c["default"].createElement("img",{src:this.props.data.poster,alt:this.props.data.title})),c["default"].createElement("div",{className:"caption"},c["default"].createElement("h5",null,this.props.data.title))))}}]),t}(c["default"].Component);e.exports=u},162:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(3),c=a(s),u=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.selected,n=this.props.filmTitle,a=[];return n.forEach(function(n,r){a.push(c["default"].createElement("li",{key:r},c["default"].createElement("button",{className:t===n?"btn btn-primary":"btn btn-default",key:r,onClick:function(t){return e.handleTitleChang(n)}},n)))}),c["default"].createElement("ul",null,a)}},{key:"handleTitleChang",value:function(e){this.props.selected!==e&&this.props.onDataChange(e)}}]),t}(c["default"].Component);e.exports=u}});